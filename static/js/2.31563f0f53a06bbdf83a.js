webpackJsonp([2],{20:function(t,e,o){function n(t){o(72)}var s=o(1)(o(70),o(73),n,"data-v-2718c941",null);t.exports=s.exports},70:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;e.default={name:"google-map",props:["name"],data:function(){return{mapName:this.name+"-map",markerCoordinates:[],markerCoordinates2:[],map:null,bounds:null,markers:[],map_arr:[],obj_map:{latitude:"",longitude:"",h:"",i:"",n:""},live_obj:{latitude:"",longitude:"",h:"",i:"",n:""}}},methods:{map_q:function(t,e,o,n,s){var a=this;this.$http.get("loc_lat_lng/"+t[0]+"/"+t[1]+".json").then(function(t){return t.json()}).then(function(i){console.log(i),a.obj_map={longitude:i[1],latitude:i[0],h:t[0],i:t[1]},a.markerCoordinates.push(a.obj_map),e(o,i,n,s),console.log(a.markerCoordinates)})},addInfoWindow:function(t,e,o){var s="";this.$http.get("ALL_LOC_INDEX/"+o.h+"/"+o.i+".json").then(function(t){return t.json()}).then(function(t){console.log(t),s=t}),console.log(t.id),google.maps.event.addListener(t,"click",function(){n&&n.close(),n=new google.maps.InfoWindow({content:" "+s}),n.open(this.map,t)})},last:function(t,e,o,n){var s=this;this.bounds=new google.maps.LatLngBounds;var a=document.getElementById(this.mapName),i=this.markerCoordinates[0],r={center:new google.maps.LatLng(i.latitude,i.longitude),disableDefaultUI:!0,zoomControl:!0};this.map=new google.maps.Map(a,r),n.forEach(function(t){var e=new google.maps.LatLng(t.latitude,t.longitude);console.log("coor test ===> "+t.latitude+" "+t.longitude);var n=new google.maps.Marker({position:e,map:s.map,icon:{url:"/static/img/icons/bus.png"},id:o});s.markers.push(n),s.map.fitBounds(s.bounds.extend(e))}),this.markerCoordinates.forEach(function(e){var n,a=new google.maps.LatLng(e.latitude,e.longitude);n=s.$store.state.src_h==e.h&&s.$store.state.src_i==e.i?new google.maps.Marker({position:a,map:s.map,icon:{url:"/static/img/icons/source.png"},id:o}):s.$store.state.dest_h==e.h&&s.$store.state.dest_i==e.i?new google.maps.Marker({position:a,map:s.map,icon:{url:"/static/img/icons/destination.png"},id:o}):s.$store.state.sel_wp_h==e.h&&s.$store.state.sel_wp_i==e.i?new google.maps.Marker({position:a,map:s.map,icon:{url:"/static/img/icons/wp.png"},id:o}):new google.maps.Marker({position:a,map:s.map,icon:{url:"/static/img/icons/else.png"},id:o}),s.markers.push(n),s.map.fitBounds(s.bounds.extend(a)),n.addListener("click",function(){console.log("clicking at "+e.latitude+"  "+e.latitude+" "+e.h+" "+e.i),t(n,this.markers,e)}),console.log("wo first")})},q_route:function(t,e,o){var n=this;this.map_arr=[];var s=0;this.$http.get("bus_route/"+this.$store.state.sel_b_h+"/"+this.$store.state.sel_b_i2+".json").then(function(t){return t.json()}).then(function(a){console.log(a),n.$http.get("live/"+n.$store.state.sel_b_h+"/"+n.$store.state.sel_b_i2+".json").then(function(t){return t.json()}).then(function(t){console.log("live: "+t[0]+" "+t[1]),n.live_obj={longitude:t[1],latitude:t[0],h:n.$store.state.sel_b_h,i:n.$store.state.sel_b_i2,n:n.$store.state.sel_b_n},n.markerCoordinates2.push(n.live_obj),console.log("pehle kon")});for(var i in a)s++,t(a[i],e,o,s,n.markerCoordinates2);console.log("map_Arr"+n.map_arr)})}},beforeMount:function(){this.q_route(this.map_q,this.last,this.addInfoWindow)}}},71:function(t,e,o){e=t.exports=o(68)(!0),e.push([t.i,".google-map[data-v-2718c941]{height:400px}","",{version:3,sources:["C:/Users/Shivam Singh/Desktop/projects-2017/___Vue____Vuex______Firebase/bhaap - Copy/src/components/map.vue"],names:[],mappings:"AACA,6BAEE,YAAc,CAGf",file:"map.vue",sourcesContent:["\n.google-map[data-v-2718c941] {\r\n/*  width: 800px;*/\r\n  height: 400px;\r\n  /*margin: 0 auto;\r\n  background: gray;*/\n}\r\n"],sourceRoot:""}])},72:function(t,e,o){var n=o(71);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(69)("2ec958aa",n,!0)},73:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"google-map",attrs:{id:t.mapName}})])},staticRenderFns:[]}}});
//# sourceMappingURL=2.31563f0f53a06bbdf83a.js.map